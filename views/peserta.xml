<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <record id="cdn_peserta_list" model="ir.ui.view">
            <field name="name">cdn.peserta.form</field>

            <field name="model">cdn.peserta</field>

            <field name="arch" type="xml">
                <list>
                    <field name="name" />

                    <field name="jenis_kelamin" />

                    <field name="street" string="Alamat" />

                    <field name="mobile" string="No. HP" />

                    <field name="email" />
                </list>
            </field>
        </record>

        <record id="cdn_peserta_search" model="ir.ui.view">
            <field name="name">cdn.peserta.search</field>

            <field name="model">cdn.peserta</field>

            <field name="arch" type="xml">
                <search>
                    <filter name="jenis_kelamin_l" string="Laki-laki" domain="[('jenis_kelamin', '=', 'l')]" />

                    <filter name="jenis_kelamin_p" string="Perempuan" domain="[('jenis_kelamin', '=', 'p')]" />

                    <filter name="is_menikah" string="Status Pernikahan" context="{'group_by': 'is_menikah'}" />
                </search>
            </field>
        </record>

        <record id="cdn_peserta_form" model="ir.ui.view">
            <field name="name">cdn.peserta.form</field>

            <field name="model">cdn.peserta</field>

            <field name="arch" type="xml">
                <form string="Peserta">
                    <sheet>
                        <div class="row">
                            <div class="col">
                                <group string="Identitas Siswa">
                                    <group>
                                        <field name="name" required="1" />

                                        <field name="jenis_kelamin" required="1" />

                                        <field name="email" />
                                    </group>
                                    <group>
                                        <field name="mobile" string="No. HP" required="1" />

                                        <field name="tmp_lahir" />

                                        <field name="tgl_lahir" />
                                    </group>
                                </group>
                            </div>

                            <div class="col ms-2">
                                <group string="Alamat">
                                    <group colspan="4">
                                        <field name="street" string="Alamat" />
                                    </group>

                                    <group>
                                        <field name="provinsi_id" />
                                        <field name="kota_id" domain="[('provinsi_id', '=', provinsi_id)]" />
                                    </group>

                                    <group>
                                        <field name="kecamatan_id" domain="[('kota_id', '=', kota_id)]" />
                                        <field name="desa_id" domain="[('kecamatan_id', '=', kecamatan_id)]" />
                                    </group>

                                    <group>
                                        <field name="pendidikan" />
                                        <field name="is_menikah" />
                                    </group>

                                    <group>
                                        <field name="pekerjaan" />
                                    </group>
                                </group>
                            </div>

                            <div class="col-1">
                                <group string="Foto">
                                    <div class="float-end" style="width: 100%; height: 100%;">
                                        <field name="profile_image" widget="image" class="rounded" />
                                    </div>
                                </group>
                            </div>
                        </div>
                        <group string="Pasangan" invisible="not is_menikah">
                            <div class="row">
                                <div class="col-5">
                                    <group>
                                        <field name="nama_pasangan" required="is_menikah" />
                                    </group>
                                </div>
                                <div class="col-5">
                                    <group>
                                        <field name="hp_pasangan" required="is_menikah" />
                                    </group>
                                </div>
                            </div>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="cdn_peserta_action" model="ir.actions.act_window">
            <field name="name">Peserta</field>

            <field name="type">ir.actions.act_window</field>

            <field name="res_model">cdn.peserta</field>

            <field name="view_mode">list,form</field>
        </record>

        <menuitem id="peserta_menu_act" name="Peserta" parent="pengaturan_menu_categ" action="cdn_peserta_action" sequence="20" />
    </data>
</odoo>